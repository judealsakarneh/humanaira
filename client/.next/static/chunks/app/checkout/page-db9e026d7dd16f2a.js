(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{3499:(e,t,r)=>{Promise.resolve().then(r.bind(r,9301))},9301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(5155),s=r(2115),a=r(7368),i=r(8236);let l=(0,a.c)("pk_test_...");function c(e){let{gigId:t,tier:r}=e,a=(0,i.useStripe)(),l=(0,i.useElements)(),[c,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gigId:t,tier:r})}),n=await e.json();n.clientSecret?o(n.clientSecret):alert(n.error||"Error")})()},[t,r]);let u=async e=>{if(e.preventDefault(),!a||!l)return;let{error:t}=await a.confirmPayment({elements:l,confirmParams:{return_url:window.location.origin+"/orders"}});t&&alert(t.message)};return c?(0,n.jsxs)("form",{onSubmit:u,className:"max-w-md mx-auto pt-10",children:[(0,n.jsx)(i.PaymentElement,{}),(0,n.jsx)("button",{className:"mt-4 px-4 py-2 bg-black text-white rounded",disabled:!a,children:"Pay"})]}):(0,n.jsx)("p",{children:"Loadingâ€¦"})}function o(e){let{searchParams:t}=e,r=t.gigId||"",s=t.tier||"BASIC";return(0,n.jsx)(i.Elements,{stripe:l,options:{appearance:{theme:"stripe"}},children:(0,n.jsx)(c,{gigId:r,tier:s})})}}},e=>{e.O(0,[1834,8441,5964,7358],()=>e(e.s=3499)),_N_E=e.O()}]);