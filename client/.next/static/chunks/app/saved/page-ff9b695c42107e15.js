(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6386],{907:(e,s,t)=>{"use strict";t.d(s,{l:()=>i});var r=t(7559);function i(){return(0,r.createBrowserClient)("https://ekjxetwphxedvoeywebe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVranhldHdwaHhlZHZvZXl3ZWJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzOTI5OTgsImV4cCI6MjA3MDk2ODk5OH0.N6snPBUY7YX5ZVyRTTuPJ_hHJk9-iLwoyzJinZzBCMc")}},8128:(e,s,t)=>{Promise.resolve().then(t.bind(t,9023))},9023:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),i=t(2115),n=t(907),o=t(2619),l=t.n(o),a=t(9803);function u(){let e=(0,a.useSession)(),[s,t]=(0,i.useState)([]),[o,u]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{!async function(){if(!(null==e?void 0:e.user)){t([]),u(!1);return}let s=(0,n.l)(),{data:r,error:i}=await s.from("saved_gigs").select("id, gig_id, gigs(*)").eq("user_id",e.user.id).order("created_at",{ascending:!1});t(r||[]),u(!1)}()},[e]),null==e?void 0:e.user)?(0,r.jsx)("main",{className:"min-h-screen bg-neutral-100 font-inter",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-16",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-blue-900",children:"Saved Gigs"}),o?(0,r.jsx)("div",{className:"text-gray-500",children:"Loading..."}):0===s.length?(0,r.jsx)("div",{className:"text-gray-500",children:"No gigs saved yet."}):(0,r.jsx)("div",{className:"grid gap-6",children:s.map(e=>(0,r.jsx)(l(),{href:"/services/".concat(e.gigs.slug),className:"block bg-white rounded-xl shadow p-6 border border-gray-100 hover:shadow-lg transition",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[e.gigs.cover_image_url&&(0,r.jsx)("img",{src:e.gigs.cover_image_url,alt:e.gigs.title,className:"w-20 h-20 object-cover rounded-lg border"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg text-blue-800",children:e.gigs.title}),(0,r.jsx)("div",{className:"text-gray-600",children:e.gigs.category})]})]})},e.gig_id))})]})}):(0,r.jsx)("main",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-600 text-lg",children:"Please sign in to view your saved gigs."})})}},9803:(e,s,t)=>{"use strict";var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,l={};((e,s)=>{for(var t in s)r(e,t,{get:s[t],enumerable:!0})})(l,{SessionContextProvider:()=>c,useSession:()=>x,useSessionContext:()=>g,useSupabaseClient:()=>h,useUser:()=>v}),e.exports=((e,s,t,l)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let t of n(s))o.call(e,t)||void 0===t||r(e,t,{get:()=>s[t],enumerable:!(l=i(s,t))||l.enumerable});return e})(r({},"__esModule",{value:!0}),l);var a=t(2115),u=t(5155),d=(0,a.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),c=({supabaseClient:e,initialSession:s=null,children:t})=>{let[r,i]=(0,a.useState)(s),[n,o]=(0,a.useState)(!s),[l,c]=(0,a.useState)();(0,a.useEffect)(()=>{!r&&s&&i(s)},[r,s]),(0,a.useEffect)(()=>{let s=!0;return!function(){let t,r;t=this,r=function*(){let{data:{session:t},error:r}=yield e.auth.getSession();if(s){if(r){c(r),o(!1);return}i(t),o(!1)}},new Promise((e,s)=>{var i=e=>{try{o(r.next(e))}catch(e){s(e)}},n=e=>{try{o(r.throw(e))}catch(e){s(e)}},o=s=>s.done?e(s.value):Promise.resolve(s.value).then(i,n);o((r=r.apply(t,null)).next())})}(),()=>{s=!1}},[]),(0,a.useEffect)(()=>{let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{s&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&i(s),"SIGNED_OUT"===e&&i(null)});return()=>{s.unsubscribe()}},[]);let g=(0,a.useMemo)(()=>n?{isLoading:!0,session:null,error:null,supabaseClient:e}:l?{isLoading:!1,session:null,error:l,supabaseClient:e}:{isLoading:!1,session:r,error:null,supabaseClient:e},[n,r,l]);return(0,u.jsx)(d.Provider,{value:g,children:t})},g=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function h(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var x=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},v=()=>{var e,s;let t=(0,a.useContext)(d);if(void 0===t)throw Error("useUser must be used within a SessionContextProvider.");return null!=(s=null==(e=t.session)?void 0:e.user)?s:null}}},e=>{e.O(0,[2619,7559,8441,1255,7358],()=>e(e.s=8128)),_N_E=e.O()}]);